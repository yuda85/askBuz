.message-bubble {
  max-width: 75%;
  min-width: 60px;
  padding: 6px 12px 8px;
  margin-bottom: 4px;
  animation: slideInMessage 0.3s ease;
  word-wrap: break-word;
  font-size: var(--buz-font-size-base);
  line-height: 1.35;
  position: relative;
  box-shadow: 0 1px 0.5px rgba(0, 0, 0, 0.13);

  // User messages - right side in RTL (green bubbles)
  &.user {
    background: var(--buz-bubble-user);
    color: var(--buz-bubble-user-text);
    align-self: flex-start; // Right in RTL
    border-radius: 7.5px;
    border-top-right-radius: 0;
    margin-left: 40px;

    // Tail on right
    &::before {
      content: '';
      position: absolute;
      top: 0;
      right: -8px;
      width: 0;
      height: 0;
      border-left: 8px solid var(--buz-bubble-user);
      border-bottom: 8px solid transparent;
    }
  }

  // Buz messages - left side in RTL (dark bubbles)
  &.buz {
    background: var(--buz-bubble-buz);
    color: var(--buz-bubble-buz-text);
    align-self: flex-end; // Left in RTL
    border-radius: 7.5px;
    border-top-left-radius: 0;
    margin-right: 40px;

    // Tail on left
    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: -8px;
      width: 0;
      height: 0;
      border-right: 8px solid var(--buz-bubble-buz);
      border-bottom: 8px solid transparent;
    }
  }

  .message-text {
    display: block;
    white-space: pre-wrap;
  }
}
